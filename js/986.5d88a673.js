(self["webpackChunkgutar"]=self["webpackChunkgutar"]||[]).push([[986],{958:function(t){t.exports={chordMap:{C:[{fret:1,string:2,finger:1},{fret:2,string:4,finger:2},{fret:3,string:5,finger:3}],D:[{fret:2,string:1,finger:1},{fret:2,string:3,finger:2},{fret:3,string:2,finger:3}],E:[{fret:1,string:3,finger:1},{fret:2,string:5,finger:2},{fret:2,string:4,finger:3}],F:[{fret:1,string:1,finger:1},{fret:1,string:2,finger:1},{fret:1,string:6,finger:1},{fret:2,string:3,finger:2},{fret:3,string:5,finger:3},{fret:3,string:4,finger:3}],G:[{fret:2,string:5,finger:2},{fret:3,string:6,finger:3},{fret:3,string:1,finger:4}],A:[{fret:2,string:4,finger:2},{fret:2,string:3,finger:3},{fret:2,string:2,finger:4}],B:[{fret:2,string:1,finger:1},{fret:2,string:5,finger:1},{fret:2,string:6,finger:1},{fret:4,string:2,finger:2},{fret:4,string:3,finger:3},{fret:4,string:4,finger:4}],Am:[{fret:2,string:1,finger:1},{fret:2,string:3,finger:2},{fret:3,string:2,finger:3}],Dm:[{fret:2,string:1,finger:1},{fret:2,string:3,finger:2},{fret:3,string:2,finger:3}],Em:[{fret:2,string:1,finger:1},{fret:2,string:3,finger:2},{fret:3,string:2,finger:3}]},enabledChord:["C","D","E","F","G","A","B","Am","Dm","Em"],pitchNames:[[{number:3,topDot:1},{number:4,topDot:1},{number:4,topDot:1,half:1},{number:5,topDot:1}],[{number:7},{number:1,topDot:1},{number:1,topDot:1,half:1},{number:2,half:1}],[{number:5},{number:5,half:1},{number:6},{number:6,half:1}],[{number:2},{number:2,half:1},{number:3},{number:4}],[{number:6,bottomDot:1},{number:6,bottomDot:1,half:1},{number:7,bottomDot:1},{number:1}],[{number:3,bottomDot:1},{number:4,bottomDot:1},{number:4,bottomDot:1,half:1},{number:5,bottomDot:1}]]}},2986:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return _}});r(4114);var n=r(6768),i=r(4232),a=r(958),s=r.n(a),f=r(144);const o=t=>((0,n.Qi)("data-v-6886f0fa"),t=t(),(0,n.jt)(),t),l={style:{display:"flex","flex-direction":"column",height:"100%"}},g=o((()=>(0,n.Lk)("div",{style:{width:"100%"}},[(0,n.Lk)("div",{style:{"background-color":"#a6a6a6",height:"10vh",width:"100%"}})],-1))),d={style:{flex:"auto",width:"100%",overflow:"hidden"}},v={class:"bar-line"},h=(0,n.Fv)('<div class="note-item" data-v-6886f0fa><div data-v-6886f0fa><div class="note-tab" data-v-6886f0fa><span class="note-tab-text" data-v-6886f0fa>T</span><span class="note-tab-text" data-v-6886f0fa>A</span><span class="note-tab-text" data-v-6886f0fa>B</span></div><div class="note-string" data-v-6886f0fa></div><div class="note-string" data-v-6886f0fa></div><div class="note-string" data-v-6886f0fa></div><div class="note-string" data-v-6886f0fa></div><div class="note-string" data-v-6886f0fa></div><div class="note-string" data-v-6886f0fa></div></div></div>',1),u={class:"note-item"},b={class:"note-string"},m={class:"note-string"},c={class:"note-string"},p={class:"note-string"},k={class:"note-string"},L={class:"note-string"},D={class:"number-box"};var C={__name:"index",setup(t){const e=(0,f.KR)(),r=(0,f.Kh)({activeString:[],interval:void 0,interValTime:10,intervalRunTime:0,speed:60,barBeat:4,beatNote:1/4,minBeatNote:1/8,noteRate:[2,2,6,3],maxFret:3,barStack:[],barLength:5}),a=t=>{for(let e=0;e<t;e++){let t=[],e=r.barBeat*r.beatNote,n=0,i=r.barBeat*r.beatNote/r.minBeatNote,a=0,f=0;while(n<i){if(a>n*r.minBeatNote)t.push(0);else{let r=C();r<=e?e-=r:(r=e,e=0),t.push(r),f+=1,a+=r}n++}let l=o(f),g=[],d=0;for(let r=0;r<t.length;r++){let e=t[r];if(e>0){let t=l[d],r=s().pitchNames[t.string-1][t.fret];g.push({note:e,...t,...r}),d++}else g.push({note:e})}r.barStack.length>=r.barLength&&r.barStack.splice(0,1),r.barStack.push(g)}},o=t=>{let e,n=[],i=s().enabledChord.length,a=0;for(let f=0;f<t;f++){if(a<1){let o=(0===f||Math.random()>.5)&&t-f>1;if(o){let t=Math.floor(Math.random()*i);e=s().enabledChord[t];let r=s().chordMap[e].length;a=2+Math.floor(Math.random()*(r-1))}else n.push({fret:Math.floor(Math.random()*(r.maxFret+1)),string:Math.ceil(6*Math.random())})}if(a>0){let t=s().chordMap[e],r=s().chordMap[e].length,i=Math.floor(Math.random()*r),f=t[i];n.push({chordName:e,fret:f.fret,string:f.string}),a--}}return n},C=()=>{let t=0,e=0;for(let i=0;i<r.noteRate.length;i++){let n=r.noteRate[i]*Math.random();n>e&&(e=n,t=i)}let n=1/(1<<t);return n},M=()=>{if(r.barStack.length<r.barLength)a(r.barLength-r.barStack.length);else{const t=6e4/r.speed*r.barBeat;r.intervalRunTime%t<r.interValTime&&a(1)}},x=()=>{const t=6e4/r.speed*r.barBeat;if(e.value.children[0]){let n=e.value.children[0].clientHeight,i=r.intervalRunTime%t/t*n;e.value.style=`margin-top:${-i}px`}},_=()=>{if(void 0!==r.interval)return clearInterval(r.interval),void(r.interval=void 0);r.interval=setInterval((()=>{M(),x(),r.intervalRunTime+=r.interValTime}),r.interValTime)};return(0,n.sV)((()=>{console.log(e.value.clientHeight)})),(t,a)=>((0,n.uX)(),(0,n.CE)("div",l,[g,(0,n.Lk)("div",d,[(0,n.Lk)("div",{class:"note-table",ref_key:"noteTable",ref:e},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.barStack,(t=>((0,n.uX)(),(0,n.CE)("div",v,[h,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t,(t=>((0,n.uX)(),(0,n.CE)("div",u,[(0,n.Lk)("div",b,(0,i.v_)(1===t.string?t.fret:""),1),(0,n.Lk)("div",m,(0,i.v_)(2===t.string?t.fret:""),1),(0,n.Lk)("div",c,(0,i.v_)(3===t.string?t.fret:""),1),(0,n.Lk)("div",p,(0,i.v_)(4===t.string?t.fret:""),1),(0,n.Lk)("div",k,(0,i.v_)(5===t.string?t.fret:""),1),(0,n.Lk)("div",L,(0,i.v_)(6===t.string?t.fret:""),1),(0,n.Lk)("div",D,[(0,n.Lk)("div",{class:(0,i.C4)(["number-dot",t.topDot?"number-dot-show":""])},null,2),(0,n.Lk)("div",{class:(0,i.C4)(t.half?"number-half":"")},[(0,n.Lk)("span",null,(0,i.v_)(t.number),1)],2),(0,n.Lk)("div",{class:(0,i.C4)(["number-dot",t.bottomDot?"number-dot-show":""])},null,2)])])))),256))])))),256))],512)]),(0,n.Lk)("div",{style:{width:"100%"}},[(0,n.Lk)("div",{style:{"background-color":"#a6a6a6",height:"10vh",width:"100%"},onClick:_})])]))}},M=r(1241);const x=(0,M.A)(C,[["__scopeId","data-v-6886f0fa"]]);var _=x}}]);
//# sourceMappingURL=986.5d88a673.js.map