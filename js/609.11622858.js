"use strict";(self["webpackChunkgutar"]=self["webpackChunkgutar"]||[]).push([[609],{8374:function(e,t,s){s.d(t,{A:function(){return m}});var i=s(6768),a=s(4232),r=s(144);const u={class:"item"},n={class:"item-animation"},o={class:"score-name"};var l={__name:"tap-number",props:{value:{required:!0,type:Number},duration:{required:!0,type:Number},delay:{required:!1,default:0,type:Number}},setup(e,{expose:t}){const s=["miss","good","great","perfect"],l=(new Date).getTime(),c=(0,r.Kh)({result:void 0,continueTime:0,scoreBoxSize:0,start:!1,isPause:!0}),d=e,m=e=>{if(c.isPause||!c.start||void 0!==c.result)return;c.continueTime=(new Date).getTime()-l;const t=c.continueTime/d.duration,i=t>=1?0:1-t,a=20+Math.floor(20*i);c.scoreBoxSize=a+a%2,c.result=s[e]};let p,v=0,g=0;const f=()=>{void 0!==p&&clearTimeout(p),c.isPause=!c.isPause,c.isPause?v=(new Date).getTime()-g:(g=(new Date).getTime(),d.delay>v?p=setTimeout((()=>{h()}),d.delay-v):h())};let T,w=0,y=0;const h=()=>{c.start=!0,void 0!==T&&clearTimeout(T),c.isPause?w=(new Date).getTime()-y:(y=(new Date).getTime(),T=setTimeout((()=>{m(0)}),d.duration-w))};return t({setScore:m,togglePause:f}),(t,s)=>((0,i.uX)(),(0,i.CE)("div",u,[(0,i.Lk)("div",n,[c.start&&void 0===c.result?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,a.C4)(["item-circle",c.isPause?"animation-pause":"animation-running"]),style:(0,a.Tr)({animation:`circle-close ${d.duration/1e3}s linear`})},null,6)):(0,i.Q3)("",!0),void 0!==c.result?((0,i.uX)(),(0,i.CE)("div",{key:1,style:(0,a.Tr)(`width:${c.scoreBoxSize}px;height:${c.scoreBoxSize}px;margin-top:${1-c.scoreBoxSize/2}px`),class:(0,a.C4)(["item-result",`item-result-${c.result}`])},[(0,i.Lk)("span",o,(0,a.v_)(c.result),1)],6)):(0,i.Q3)("",!0)]),(0,i.Lk)("span",{style:{display:"block",width:"100%"},class:(0,a.C4)(void 0!==c.result?`number-${c.result}`:"")},(0,a.v_)(e.value),3)]))}},c=s(1241);const d=(0,c.A)(l,[["__scopeId","data-v-3e3fe5ee"]]);var m=d},7609:function(e,t,s){s.r(t),s.d(t,{default:function(){return l}});s(4114);var i=s(6768),a=s(144),r=s(8374);const u=0;var n={__name:"index",setup(e){const t=[];let s=[],n=0,o=0,l=!0;const c=e=>{t.push(e)},d=()=>{l?o=(new Date).getTime():n=(new Date).getTime()-o,l=!l,s.forEach((e=>{clearTimeout(e)})),s=[];for(let e=0;e<t.length;e++)if(t[e].togglePause(),!l){const i=setTimeout((()=>{t[e].setScore(3-e)}),u+1e3/(4-e)-n);s.push(i)}};return(0,i.sV)((()=>{})),(e,t)=>((0,i.uX)(),(0,i.CE)("div",{style:{width:"40px",display:"flex","flex-wrap":"wrap",padding:"20px"},onClick:d},[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(4,(e=>(0,i.bF)((0,a.R1)(r.A),{value:e,duration:1e3,ref_for:!0,ref:e=>c(e),delay:u},null,8,["value"]))),64))]))}};const o=n;var l=o}}]);
//# sourceMappingURL=609.11622858.js.map